charpter9 zuul高级篇

9.1 多层负载
9.1.1 痛点场景
- 对zuul扩展，加一层nginx，作为软负载。
9.1.2 解决方案
- openResty,整合Nginx和lua,通过Lua获取注册中心状态为up的服务，动态加入到nginx的负载列表。
- 实现原理：使用lua脚本定时根据配置的服务名与eureka地址，去拉取该服务器的信息，在eureka里面提供/eureka/apps/{serviceId}端点，返回服务的注册信息，所以我们只需要取用状态为“up”的服务，将它的地址加入Nginx负载列表即可。
- 此项目是的Nginx与zuul之间拥有一个动态感知能力，不用手动配置Nginx负载，与zuul负载，对于应用的弹性扩展是及其友好的。

9.2 应用优化
9.2.1 概述

9.2.2 容器优化
9.2.3 组件优化
9.2.5 内部优化



















9.3 原理，核心代码解析
9.3.1 工作原理与生命周期
9.3.2 filter装载与filter链实现
9.3.3 核心路由实现

9.4 本章小结
